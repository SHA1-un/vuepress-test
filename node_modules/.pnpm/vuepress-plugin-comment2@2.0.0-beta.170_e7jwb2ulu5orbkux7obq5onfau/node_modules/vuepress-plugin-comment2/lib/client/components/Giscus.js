import{usePageFrontmatter as l,usePageLang as g,withBase as y}from"@vuepress/client";import{defineComponent as h,ref as v,computed as a,onMounted as f,h as n}from"vue";import{useRoute as I}from"vue-router";import"../styles/giscus.scss";const i=["de","gsw","en","es","fr","id","it","ja","ko","pl","ro","ru","tr","vi","zh-CN","zh-TW"],e=COMMENT_OPTIONS,k=Boolean(e.repo&&e.repoId&&e.category&&e.categoryId);var P=h({name:"GiscusComment",props:{darkmode:Boolean},setup(s){const p=l(),d=I(),r=v(!1),u=a(()=>{const t=g().value;if(i.includes(t))return t;const o=t.split("-")[0];return i.includes(o)?o:"en"}),m=a(()=>{if(!k)return!1;const t=e.comment!==!1,o=p.value.comment;return Boolean(o)||t!==!1&&o!==!1}),c=a(()=>({repo:e.repo,repoId:e.repoId,category:e.category,categoryId:e.categoryId,lang:u.value,theme:s.darkmode?e.darkTheme??"dark":e.lightTheme??"light",mapping:e.mapping||"pathname",term:y(d.path),inputPosition:e.inputPosition||"top",reactionsEnabled:e.reactionsEnabled!==!1?"1":"0",strict:e.strict!==!1?"1":"0",loading:e.lazyLoading!==!1?"lazy":"eager",emitMetadata:"0"}));return f(async()=>{await import("giscus"),r.value=!0}),()=>n("div",{class:["giscus-wrapper",{"input-top":e.inputPosition!=="bottom"}],id:"comment",style:{display:m.value?"block":"none"}},r.value?n("giscus-widget",c.value):n("div",{style:"text-align:center"},"Loading..."))}});export{P as default};
//# sourceMappingURL=Giscus.js.map
